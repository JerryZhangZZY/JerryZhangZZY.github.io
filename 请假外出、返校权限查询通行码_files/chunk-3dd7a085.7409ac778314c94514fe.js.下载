(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dd7a085"],{"1a9c":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commonpop",staticStyle:{width:"100%"},attrs:{id:"common_pop"},on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel.apply(null,arguments)}}},[a("div",{staticClass:"popup",staticStyle:{width:"auto"}},[a("div",{staticClass:"popup_top"},[a("span",[e._v(e._s(e.title))]),a("i",{staticClass:"el-icon-close",on:{click:e.cancel}})]),e._v(" "),a("div",{staticClass:"popup_content clearfix"},[a("div",{staticClass:"content_left"},[a("ul",{directives:[{name:"show",rawName:"v-show",value:e.changeType,expression:"changeType"}],staticClass:"tab clearfix"},[e.showConf.showStruct?a("li",{class:{active:"1"==e.selectType},on:{click:function(t){e.selectType="1"}}},[a("span",[e._v("选择机构")])]):e._e(),e._v(" "),e.showConf.showPerson?a("li",{class:{active:"2"==e.selectType},on:{click:e.selectTypeSelect}},[a("span",[e._v("选择人员")])]):e._e()]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.tabList.length>1,expression:"tabList.length > 1"}],staticClass:"tab clearfix"},[e.showConf.showDepart?a("li",{class:{active:"部门"==e.type},on:{click:function(t){return e.setTypes("部门")}}},[a("span",[e._v("部门")])]):e._e(),e._v(" "),e.showAuthKey&&e.showConf.showJob?a("li",{class:{active:"岗位"==e.type},on:{click:function(t){return e.setTypes("岗位")}}},[a("span",[e._v("岗位")])]):e._e(),e._v(" "),e.showAuthKey&&e.showConf.showTag?a("li",{class:{active:"标签"==e.type},on:{click:function(t){return e.setTypes("标签")}}},[a("span",[e._v("标签")])]):e._e()]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:["部门","岗位"].includes(e.type),expression:"['部门', '岗位'].includes(type)"}],staticClass:"searchinputs"},[e.mixCsuSystemTree?[a("el-popover",{attrs:{placement:"bottom",width:"249",transition:"0",trigger:"manual","popper-class":"b_userData_left_depart_popover"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"depart_search",attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"el-icon-search"}),e._v(" "),"部门"==e.type?a("el-input",{attrs:{placeholder:"输入部门名称"},on:{focus:e.focus,blur:e.blur,input:e.getDepartTree},model:{value:e.keyword1,callback:function(t){e.keyword1=t},expression:"keyword1"}}):a("el-input",{attrs:{placeholder:"输入岗位名称"},model:{value:e.jobText,callback:function(t){e.jobText="string"===typeof t?t.trim():t},expression:"jobText"}})],1),e._v(" "),e.departList.length?a("ul",{staticClass:"depart_list"},e._l(e.departList,(function(t,s){return a("li",{key:s,on:{click:function(s){return e.selectDepart(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("el-checkbox",{attrs:{label:t.id,name:JSON.stringify(t)},on:{change:e.changelabel},model:{value:e.chooseResultID,callback:function(t){e.chooseResultID=t},expression:"chooseResultID"}})],1)})),0):a("div",{staticClass:"depart_nodata"},[e._v("暂无数据")])])]:["部门"==e.type?a("el-input",{attrs:{placeholder:"输入部门名称"},on:{input:e.departSearch},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):a("el-input",{attrs:{placeholder:"输入岗位名称"},model:{value:e.jobText,callback:function(t){e.jobText="string"===typeof t?t.trim():t},expression:"jobText"}})]],2),e._v(" "),"部门"==e.type?a("div",{staticClass:"list_department list"},[e.mixCsuSystemTree?["users"==e.settype?a("el-tree",{ref:"eltrees1",attrs:{props:e.props,"node-key":"id","check-on-click-node":!0,"default-expanded-keys":[0],"current-node-key":e.currentDepartId,"highlight-current":!0,"filter-node-method":e.filterNode,load:e.loadNode,lazy:""},on:{"node-click":e.selectUsers}}):e._e(),e._v(" "),"all"==e.settype?a("el-tree",{ref:"eltrees2",attrs:{props:e.props,"node-key":"id","show-checkbox":"","default-expanded-keys":[0],"check-strictly":!0,"default-checked-keys":e.chooseResultID,"filter-node-method":e.filterNode,load:e.loadNode,lazy:""},on:{"node-click":e.selectUsers,"check-change":e.handleCheckChange}}):e._e()]:["users"==e.settype?a("el-tree",{ref:"eltrees1",attrs:{props:e.props,data:e.department,"node-key":"id","check-on-click-node":!0,"default-expanded-keys":[0],"current-node-key":e.currentDepartId,"highlight-current":!0,"filter-node-method":e.filterNode},on:{"node-click":e.selectUsers}}):e._e(),e._v(" "),"all"==e.settype?a("el-tree",{ref:"eltrees2",attrs:{props:e.props,data:e.department,"node-key":"id","show-checkbox":"","default-expanded-keys":[0],"check-strictly":!0,"default-checked-keys":e.chooseResultID,"filter-node-method":e.filterNode},on:{"node-click":e.selectUsers,"check-change":e.handleCheckChange}}):e._e()]],2):e._e(),e._v(" "),"岗位"==e.type?a("ul",{staticClass:"list list_job"},["users"==e.settype?e._l(e.nowJob,(function(t,s){return a("li",{key:s,domProps:{textContent:e._s(t.name)},on:{click:function(s){return e.selectUsers(t)}}})})):e._e(),e._v(" "),"all"==e.settype?e._l(e.nowJob,(function(t,s){return a("li",{key:s,on:{click:function(s){return e.selectUsers(t)}}},[a("el-checkbox",{attrs:{label:t.id,name:JSON.stringify(t)},on:{change:e.changelabel},model:{value:e.chooseResultID,callback:function(t){e.chooseResultID=t},expression:"chooseResultID"}}),e._v("\n              "+e._s(t.name)+"\n            ")],1)})):e._e()],2):e._e(),e._v(" "),"标签"==e.type?a("ul",{staticClass:"list list_team"},e._l(e.team,(function(t,i){return a("li",{staticClass:"fluder"},[a("p",{on:{click:function(t){return e.teamCategoryClick(t)}}},[a("img",{staticClass:"file1",attrs:{src:s("2929"),alt:""}}),e._v(e._s(t.name)+"\n            ")]),e._v(" "),a("ul",[e._l(t.teams,(function(t){return"users"==e.settype?a("li",{domProps:{textContent:e._s(t.name)},on:{click:function(s){return s.stopPropagation(),e.selectUsers(t)}}}):e._e()})),e._v(" "),e._l(t.teams,(function(t){return"all"==e.settype?a("li",{on:{click:function(s){return s.stopPropagation(),e.selectUsers(t)}}},[a("el-checkbox",{attrs:{label:t.id,name:JSON.stringify(t)},on:{change:e.changelabel},model:{value:e.chooseResultID,callback:function(t){e.chooseResultID=t},expression:"chooseResultID"}}),e._v("\n                "+e._s(t.name)+"\n              ")],1):e._e()}))],2)])})),0):e._e()]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.selectType,expression:"selectType == '2'"}],staticClass:"list-bot"},[a("div",{staticClass:"tit"},[a("span",{staticClass:"name"},[e._v("所属人员")]),e._v(" "),""==e.showConf.mode?a("label",[e._v("\n            全选"),a("input",{attrs:{type:"checkbox"},on:{change:e.quanxuan}})]):e._e()]),e._v(" "),a("div",{staticClass:"searchinputs"},[a("el-input",{attrs:{placeholder:"输入人员姓名/学工号"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),e.searchList.length?a("i",{staticClass:"el-icon-close",on:{click:function(t){e.keyword=""}}}):e._e(),e._v(" "),e.keyword?[e.searchList.length?a("div",{staticClass:"searchLists"},[a("div",{staticClass:"tab"},[a("span",{class:{acitve:"all"==e.searchListTab},on:{click:function(t){e.searchListTab="all"}}},[e._v("全部")]),e._v(" "),a("span",{class:{acitve:"teacher"==e.searchListTab},on:{click:function(t){e.searchListTab="teacher"}}},[e._v("教职工")]),e._v(" "),a("span",{class:{acitve:"student"==e.searchListTab},on:{click:function(t){e.searchListTab="student"}}},[e._v("学生")])]),e._v(" "),a("ul",{on:{scroll:e.searchUserScroll}},e._l(e.nowSearchList,(function(t){return a("li",[a("el-popover",{attrs:{"open-delay":100,placement:"right",trigger:"hover"}},[a("div",[e._v("姓名："+e._s(t.realname||t.name))]),e._v(" "),t.number?a("div",[e._v("工号："+e._s(t.number))]):e._e(),e._v(" "),t.college?a("div",[e._v("单位："+e._s(t.college))]):e._e(),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-checkbox",{attrs:{label:t.id,name:JSON.stringify(t)},on:{change:e.changelabel},model:{value:e.chooseResultID,callback:function(t){e.chooseResultID=t},expression:"chooseResultID"}}),e._v(" "),a("span",{domProps:{textContent:e._s(t.realname||t.name)}}),e._v(" "),a("span",{staticClass:"dpmt",domProps:{textContent:e._s(t.number)}})],1),e._v(" "),a("span",{staticClass:"de_part",attrs:{slot:"reference"},domProps:{textContent:e._s(t.college?t.college:"")},slot:"reference"})])],1)})),0)]):a("ul",{staticClass:"searchListno"},[e._v("\n              未搜索到该用户\n            ")])]:e._e()],2),e._v(" "),a("div",{staticClass:"tab"},[a("span",{class:{acitve:"teacher"==e.listBotTab},on:{click:function(t){e.listBotTab="teacher"}}},[e._v("教职工")]),e._v(" "),a("span",{class:{acitve:"student"==e.listBotTab},on:{click:function(t){e.listBotTab="student"}}},[e._v("学生")])]),e._v(" "),a("ul",{on:{scroll:function(t){return e.scroll(t)}}},e._l(e.nowSelectList,(function(t){return a("li",[a("el-checkbox",{attrs:{label:t.id,name:JSON.stringify(t)},on:{change:e.changelabel},model:{value:e.chooseResultID,callback:function(t){e.chooseResultID=t},expression:"chooseResultID"}}),e._v(" "),a("el-popover",{attrs:{"open-delay":100,placement:"right",trigger:"hover"}},[a("div",[e._v("姓名："+e._s(t.realname||t.name))]),e._v(" "),t.department?a("div",[e._v("工号："+e._s(t.department))]):e._e(),e._v(" "),t.college?a("div",[e._v("单位："+e._s(t.college))]):e._e(),e._v(" "),a("span",{attrs:{slot:"reference"},domProps:{textContent:e._s(t.realname||t.name)},slot:"reference"}),e._v(" "),a("span",{staticClass:"dpmt",attrs:{slot:"reference"},domProps:{textContent:e._s(t.department?t.department:"")},slot:"reference"}),a("br"),e._v(" "),a("span",{staticClass:"de_part",attrs:{slot:"reference"},domProps:{textContent:e._s(t.college?t.college:"")},slot:"reference"})])],1)})),0)]),e._v(" "),a("div",{staticClass:"content_right"},[a("div",{staticClass:"tit"},[a("span",{staticClass:"name"},[e._v("已选人员/机构")]),e._v(" "),a("span",{on:{click:function(t){e.chooseResult=[]}}},[e._v("清空")])]),e._v(" "),a("ul",e._l(e.chooseResult,(function(t,i){return a("li",{staticClass:"ofl"},[a("el-popover",{attrs:{"open-delay":100,placement:"right",trigger:"hover"}},[a("div",[e._v("姓名："+e._s(t.realname||t.name))]),e._v(" "),t.number?a("div",[e._v("工号："+e._s(t.number))]):e._e(),e._v(" "),t.college?a("div",[e._v("单位："+e._s(t.college))]):e._e(),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("span",{staticClass:"ofl",domProps:{textContent:e._s(t.realname||t.name)}}),e._v(" "),a("span",{staticClass:"dpmt ofl",domProps:{textContent:e._s(t.number)}})]),e._v(" "),a("span",{staticClass:"de_part as",attrs:{slot:"reference"},domProps:{textContent:e._s(t.college?t.college:"")},slot:"reference"}),e._v(" "),a("img",{attrs:{slot:"reference",src:s("b85c"),alt:""},on:{click:function(t){return e.delone(e.chooseResult,i)}},slot:"reference"})])],1)})),0)])]),e._v(" "),a("div",{staticClass:"popup_footer"},[a("a",{staticClass:"cancel",attrs:{href:"javascript:;"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("a",{staticClass:"sure",attrs:{href:"javascript:;"},on:{click:e.save}},[e._v("确定")])])])])},i=[],r=s("fd6a"),n=(s("c4cb"),s("efbe")),o=s("ed3b"),c=(s("96cf"),s("4de4"),s("d3b7"),s("caad"),s("2532"),s("b0c0"),s("e9c4"),s("159b"),s("a434"),s("c740"),s("99af"),s("5961")),l=s("e48e"),h={name:"newpop",data:function(){return{flag:"",title:"选择人员/机构",changeType:!0,selectType:"1",ajaxLock:!1,tabList:["部门","岗位","标签"],type:"部门",keyword:"",hideNodes:[],filterText:"",jobText:"",isopen:0,department:[],cleardepartment:[],job:[],team:[],selectList:[],searchList:[],searchTotal:0,searchUser:{},chooseResult:[],chooseResultID:[],props:{label:"name",children:"children"},timeHandler:"",lock:!0,searchUserLock:!1,searchUserPage:1,listBotTab:"teacher",searchListTab:"all",currentDepartId:null,item:{},isLeaf:"leaf",departList:[],visible:!1,keyword1:"",depart:[],parentParams:{}}},mixins:[c["a"],l["a"]],props:{settype:String,hasChooseList:Array,getType:"",isSite:!1,showConf:{type:Object,default:function(){return{showStruct:!1,showDepart:!0,showJob:!0,showTag:!0,showPerson:!1,mode:"",before:0,departAuthHidden:!1}}},newuser:!1,parentBepartId:0},computed:{nowJob:function(){var e=this;return this.jobText?this.job.filter((function(t){return t.name.includes(e.jobText)})):this.job},showAuthKey:function(){var e=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).permits,t=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).issuper;return(0!=t||!e.includes("AppManage")||!e.includes("AppDepartManage")||"督办管理人员弹窗"!=this.title)&&((0!=t||!e.includes("AppManage")||!e.includes("AppDepartManage")||2!=this.selectType)&&(0!=t||!e.includes("AppManage")||!e.includes("AppDepartManage")||1!=this.selectType))},nowSelectList:function(){var e=[];switch(this.listBotTab){case"teacher":e=this.selectList.filter((function(e){return"教职工"==e.identity}));break;case"student":e=this.selectList.filter((function(e){return"专科生"==e.identity||"本科生"==e.identity||"研究生"==e.identity}));break;default:return this.selectList}return e.length<10&&20*this.searchUser.p<this.searchTotal&&(this.ajaxLock||(this.ajaxLock=!0,this.getUset("scroll"))),e},nowSearchList:function(){var e=[];switch(this.searchListTab){case"teacher":e=this.searchList.filter((function(e){return"教职工"==e.identity}));break;case"student":e=this.searchList.filter((function(e){return"专科生"==e.identity||"本科生"==e.identity||"研究生"==e.identity}));break;default:return this.searchList}return e.length<10&&20*this.searchUserPage<this.searchTotal&&(this.searchUserLock=!0,this.searchUserPage++,this.searchUserF(this.keyword)),e}},created:function(){this.mixCsuSystemTree&&(this.props.children="zones"),this.isopen=1,this.allDpmt(),this.chooseResult=JSON.parse(JSON.stringify(this.hasChooseList)),this.parentBepartId&&(this.currentDepartId=this.parentBepartId,this.getUset("department",{id:this.parentBepartId}))},methods:{selectTypeSelect:function(){this.selectType="2";var e=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).permits,t=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).issuper;0==t&&e.includes("AppManage")&&e.includes("AppDepartManage")&&"2"==this.selectType&&this.setTypes("部门")},loadNode:function(e,t){var s=this;setTimeout(Object(o["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==e.level){a.next=5;break}return a.next=3,s.allDpmt();case 3:return i=a.sent,a.abrupt("return",t(i));case 5:if(!(e.level>1)){a.next=10;break}return a.next=8,s.allDpmt(e.data.id);case 8:return i=a.sent,a.abrupt("return",t(i[0].children));case 10:setTimeout(Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.allDpmt();case 2:return a=e.sent,e.abrupt("return",t(a[0].children));case 4:case"end":return e.stop()}}),e)}))),500);case 11:case"end":return a.stop()}}),a)}))),300)},focus:function(){this.visible=!0},blur:function(){var e=this;window.setTimeout((function(){e.keyword1="",e.departList=[],e.visible=!1}),300)},getDepartTree:function(e,t){var s=this,a={};a={name:e,scene:"DepartManage"},this.$appFetch({method:"get",url:"systemTree",data:a},(function(e){0==e.e?s.departList=e.d[0].children:s.$message.error({message:e.m})}),(function(e){s.$message.error({message:"数据请求失败，请重新进入页面或点击按钮"})}))},selectDepart:function(e){e.auth},initInfo:function(e){var t=this;e.forEach((function(e){"hidden"==e.auth&&t.hideNodes.push(e.id),"read"==e.auth&&(e.disabled=!0),e.children&&e.children.length&&t.initInfo(e.children)}))},setTypes:function(e){if(this.type=e,this.isopen)if("部门"==e){if(this.allDpmt(),!this.isopen)return;this.$nextTick((function(){"users"==this.settype?this.$refs.eltrees1.setCheckedKeys(this.chooseResultID):"all"==this.settype&&this.$refs.eltrees2.setCheckedKeys(this.chooseResultID)}))}else"岗位"==e?this.allJob():"标签"==e&&this.allTeam()},teamCategoryClick:function(e){$(e.currentTarget).siblings("ul").toggleClass("open")},filterNode:function(e,t){var s=!this.showConf.departAuthHidden||!this.hideNodes.includes(t.id);return e?-1!==t.name.indexOf(e)&&s:s},changelabel:function(e,t){var s=JSON.parse(t.target.name);if(e)""!=this.showConf.mode?this.chooseResult=[s]:this.chooseResult.push(s);else for(var a in this.chooseResult)(this.chooseResult[a].uid||this.chooseResult[a].id)==s.id&&this.chooseResult.splice(a,1)},handleCheckChange:function(e,t,s){if(""==this.showConf.mode)if(t){var a=JSON.parse(JSON.stringify(e));if(void 0!=a.children&&delete a.children,this.chooseResult.findIndex((function(e){return e.id==a.id}))>=0)return;this.chooseResult.push(a)}else for(var i in this.chooseResult)this.chooseResult[i].id==e.id&&this.chooseResult.splice(i,1);else if("single"==this.showConf.mode)if(t){a=JSON.parse(JSON.stringify(e));void 0!=a.children&&delete a.children,this.chooseResult=[a]}else e.id==this.chooseResult[0].id&&(this.chooseResult=[])},save:function(){this.parentParams={},this.setTypes("部门"),this.$nextTick((function(){this.$emit("getBackData",this.chooseResult),this.chooseResult=[]}))},cancel:function(){this.parentParams={},this.setTypes("部门"),this.$nextTick((function(){this.$emit("getBackData",!1)}))},scroll:function(e){var t=e.currentTarget;if($(t).height()+$(t).scrollTop()>=$(t)[0].scrollHeight-30){if(this.ajaxLock)return!1;this.ajaxLock=!0,this.getUset("scroll")}},selectUsers:function(e){this.listBotTab="teacher",this.lock&&"department"==e.type?this.getUset(e.type,e):"job"!=e.type&&"team"!=e.type||this.getUset(e.type,e)},allDpmt:function(e){var t=this,s=this,a={};return s.isSite&&(a.scene="delegate"),s.getType&&(a.scene=s.getType,a.range="manage"),this.mixCsuSystemTree&&(a.pid=e||0),new Promise((function(e){s.$appFetch({method:"get",url:s.getType?"systemTree":t.mixCsuSystemTree?"lazyAuthTree":"getDepartNews",data:Object(r["a"])(Object(r["a"])({},a),t.parentParams)},(function(t){if(0==t.e){if(s.department=t.d,1==s.newuser&&(s.department[0].disabled=!0),s.cleardepartment=t.d,s.initInfo(s.department),!s.isopen)return;"users"==s.settype?s.$nextTick((function(){s.$refs.eltrees1.filter()})):"all"==s.settype&&s.$nextTick((function(){s.$refs.eltrees2.filter()})),e(s.department)}else s.$message.error({message:t.m})}))}))},allJob:function(){var e=this;e.$appFetch({method:"get",url:"allJob"},(function(t){0==t.e?e.job=t.d:e.$message.error({message:t.m})}))},allTeam:function(){var e=this;e.$appFetch({method:"get",url:"allTeam"},(function(t){0==t.e?e.team=t.d:e.$message.error({message:t.m})}))},getUset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).permits,a=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).issuper;if(0==a&&s.includes("AppManage")&&s.includes("AppDepartManage")&&(this.flag=1),this.item=t,this.lock=!1,"scroll"==e)this.searchUser.p=this.searchUser.p+1;else{if("read"==t.auth)return void(this.selectList=[]);this.searchUser={type:e,keyword:t.id||this.searchUser.keyword,identity:"teacher"==this.listBotTab?"staff":this.listBotTab,p:1,auth:1==this.flag?"AppManage":void 0}}var i=this;i.$appFetch({method:"get",url:i.showConf.before?"getUserbefore":"getUser",data:Object(r["a"])(Object(r["a"])({},i.searchUser),this.parentParams)},(function(t){0==t.e?(i.lock=!0,i.ajaxLock=!1,i.searchTotal=t.d.total,"scroll"==e?(0==t.d.data.length&&(i.ajaxLock=!0),i.selectList=i.selectList.concat(t.d.data)):(i.ajaxLock=!1,i.selectList=t.d.data)):i.$message.error({message:t.m})}))},delone:function(e,t){e.splice(t,1)},quanxuan:function(e){if($(e.currentTarget).is(":checked"))for(var t in this.selectList)this.chooseResultID.includes(this.selectList[t].id)||this.chooseResult.push(this.selectList[t]);else for(var s in this.selectList)this.chooseResultID.includes(this.selectList[s].id)&&this.deloneid(this.selectList[s].id)},deloneid:function(e){for(var t in this.chooseResult)this.chooseResult[t].id==e&&this.chooseResult.splice(t,1)},searchUserScroll:function(e){var t=e.currentTarget;if($(t).height()+$(t).scrollTop()>=$(t)[0].scrollHeight-5){if(this.searchUserLock)return!1;this.searchUserLock=!0,this.searchUserPage+=1,this.searchUserF(this.keyword)}},searchUserF:function(e){var t=this,s=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).permits,a=JSON.parse(sessionStorage.getItem("officeDb_authControl_key")).issuper;if(0==a&&s.includes("AppManage")&&s.includes("AppDepartManage")&&(this.flag=1),"all"==this.searchListTab)var i={type:"name",keyword:e,p:this.searchUserPage,auth:1==this.flag?"AppManage":void 0};else i={type:"name",keyword:e,identity:"teacher"==this.searchListTab?"staff":this.searchListTab,p:this.searchUserPage,auth:1==this.flag?"AppManage":void 0};this.$appFetch({method:"get",url:this.showConf.before?"getUserbefore":"getUser",data:Object(r["a"])(Object(r["a"])({},i),this.parentParams)},(function(s){0==s.e?(e==t.keyword&&(t.searchList=[].concat(Object(n["a"])(t.searchList),Object(n["a"])(s.d.data)),t.searchTotal=s.d.total),0==s.d.data.length?t.searchUserLock=!0:t.searchUserLock=!1):t.$message.error({message:s.m})}))}},watch:{listBotTab:function(){var e="部门"==this.type?"department":"岗位"==this.type?"job":"team";return this.getUset(e,this.item),this.listBotTab},searchListTab:function(){return this.searchUserPage=1,this.searchUserF(this.keyword),this.searchListTab},hasChooseList:function(){this.hideNodes=[],this.allDpmt(),this.chooseResult=JSON.parse(JSON.stringify(this.hasChooseList))},keyword:function(e){var t=this;t.searchList=[],""!=e?(this.searchUserLock=!1,this.searchUserPage=1,t.timeHandler&&clearTimeout(t.timeHandler),t.timeHandler=setTimeout((function(){t.searchUserF(e)}),500)):clearTimeout(t.timeHandler)},chooseResult:function(){var e=this;for(var t in e.chooseResultID=[],e.chooseResult)e.chooseResultID.push(e.chooseResult[t].uid||e.chooseResult[t].id);e.isopen&&e.$nextTick((function(){"部门"==e.type&&("users"==e.settype?e.$refs.eltrees1.setCheckedKeys(e.chooseResultID):"all"==e.settype&&e.$refs.eltrees2.setCheckedKeys(e.chooseResultID))}))},filterText:function(e){"users"==this.settype?this.$refs.eltrees1.filter(e):"all"==this.settype&&this.$refs.eltrees2.filter(e)}},beforeDestroy:function(){this.isopen=0}},u=Object(r["a"])({},h),p=u,d=s("cba8"),f=Object(d["a"])(p,a,i,!1,null,null,null);t["a"]=f.exports},2929:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAABMUlEQVRIid3WvSsGcQDA8c89HiEhm0J2kzKhLBZZMPgXlIEIM4PBfyCr0W6RwUsGmawo8q4sJC/l6THcXZ6u8OA5yrd+XffS7/O7uu4uMJcX1YMpdKLWW7dYxwgufbNMtJ3GIpbQhKBgtOAQC99FIDCXb8Qe2nD2znUVuMNokfM+YgvH8YEsurD5AQLPwjtqLxKqxTwmsBxD2WgFnzVeJBLXio1CqLAyjKEP9V+cONkLjtCM0yQ0iUHM4uaHUBZDWEFbEurFDFZ/iMTtYBddmcSJcjyUCInbR3MSSq3/D+XSwpOT3qPmN6DU+jOoAk+/AVUK39SpQ6mViUYuRbwKTxmcC7+udThAR4mAAAPoxnZW+OOxhgvhg1CH4RJA1bhCP66Dgr+gKjREKylFLziJd14B9gM4VooOxioAAAAASUVORK5CYII="},b85c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAABGdBTUEAALGPC/xhBQAABRJJREFUWAnVmU2IHEUUx1/1hJmdZDGH7G60HXIxqBCIYrK6hxyMeolgojdzEkFQWFECCgY9GhQUguCiJ6/eNEvAXFQ85LAxrmgg4EWQZXZMsht1cdbZmcxM+f7VXU13TVd/TM/Oknfp6qp67/2m5vWr6teCCsqtZ2fvbW/Rc1LKIySES5JcIumSoH3cvk0kGtxukJQNIcRyZYIuznxz9UYRt2IY5cYzxw70+p3TDHeKYeYkk2W1wxMl/7glVlksOeUv3W8vr2TV1fMyO4NC/enH9/Vl/11uzrPrsjYy9FVQh3UXHOGcq333I/8r2SQTtDxxolJvr5+RJN9h2L3ZTOeYJWhDkPiwVpk6Ly5daqdppkKrmG3R1ww8l2as6DiDL1Wq9EJazCdCN56ae6wne4sMXCsKlFWfweslUTrlfr/0s03HsQ2sHj96koEvjxMYLPAHv/BvY4tdaX+FAVy1KW53P694i1f8WNyKD6w0YtgPiR0DxoJgwcABHnOBItDIEm3voRtbDJtA4XuEiuJhrnB/BNpPa9YsIaq7aVftQFi/cBv2YNcmDD4HrvB4ENP+xvG7LQ+XDx2m6Q8+IWdykrZ+Xab1994iudkM28rVFnsmaer9j2nikSPUbzZp7eyb1Ll+Ld4G53HegB7QG1Cw0mqnS9g47jn9kgKGVTia/uhTguNhBHrQhx0IFgL2rcJc/k6spihonCX4bt6qxAO9f/6ODFcePjQUuAaGflhM++Exvz3vc5KCVoeflLPExhefUbdRj9jKC24Dhl3YTxTm8w5p/M+oiVI+n6jAg/2/btOtM68NDZ4EDLuwnyo+p/DOFrKR9XhZmt5PM+c/p11uNCu2f7tOa2+/HvtwpgH31m6m8mICZw1ZqQrX6bToZFZgKMJBnhUfFTB8gxMvHA43vEcYvRklK/gogQM0SUcdKei+oCNHIw3cmdmvsouZJfDQ4Z/KGhImEnjFyvHZn3jhc6+2NmaL8X6rRU41enwpCuz5FMucPfgltIDYVnx7gAEqXUe9NReAhmoA/udqrKXujUahkIgY5bd8hx/JDAkyohZ70/9vk/qbm7Fjvea/hPGRCPNyeHBdoqDoLFE++GCspcrBh4ba8mONMS/CoxC0BjazhOx2Iz7zbvkR5fAN83J4yKGhbcDIEjffeGXoLT/MONBmXgelqoGBDB1JwMjDd3hbz7NzZnCppoDXQW0Ne3pWJcxLA9YbR5BVCp4ONZs6ezCv4xVGxBU9kHbNCqztjBSca4Dg9Y6mQlzQTpKueYG1rdGBi0XYVNCoXnIWQTHQKmL3nkJniVRwtp8ozKc4eZKC9sutC0lKe19+lcy0lvcskQQO+ymyoMvCXniAnsutvNobNkWzdJAXWNu1gZv29Xx19d7Gz+m+ABqv5yi36gHz2rz4Fcmet2HcWfmj0FlCg8MOBHZh3ybg0uUDzAnqHrhRdeit9R9QIMG9KSX3fvWa1bn2C8lOahnZVB+4F+UKlQ8/St3VOvUshy0GXqpNTD0ZrltHoGHVr0dfRUlqwMuYOxi4zvXqWbNeHYSH5sEE1IdZoaX7duIK/+AwgcEyAI1OlFf5UPLiToHDL/zHlXnBNxAe6NRy130JADh+KWKKfzl/Qtt+gR/4s62wJogNDz2IK2JKPb1CnE3K42Gd3G183WL78BMXw6a9xPAwJ99V3xFN+OCLraqtySfyVKh4lTD9Cn+1vTCWL7YmPO5VXh/zt/H/AZG91yEKKC++AAAAAElFTkSuQmCC"},c4cb:function(e,t,s){},c740:function(e,t,s){"use strict";var a=s("23e7"),i=s("b727").findIndex,r=s("44d2"),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(n)}}]);